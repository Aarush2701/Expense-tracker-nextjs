(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(2946)}])},2946:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var s=t(5893),r=t(7294),i=t(1664),o=t.n(i),a=t(1163),l=t(5678),u=t(923);function c(){let[e,n]=(0,r.useState)({email:"",password:""}),t=(0,a.useRouter)(),i=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},c=async n=>{n.preventDefault();let{email:s,password:r}=e;if(!s||!r)return(0,u.S3)("Email and password are required");try{let n="".concat(u.fG,"/auth/login"),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),{success:r,message:a,jwtToken:l,name:c,error:d}=await s.json();if(r)(0,u.sE)(a),localStorage.setItem("token",l),localStorage.setItem("loggedInUser",c),setTimeout(()=>{t.push("/home")},1e3);else if(d){var i,o;let e=null==d?void 0:null===(o=d.details)||void 0===o?void 0:null===(i=o[0])||void 0===i?void 0:i.message;(0,u.S3)(e)}else r||(0,u.S3)(a)}catch(e){(0,u.S3)(e)}};return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{children:"Login"}),(0,s.jsxs)("form",{onSubmit:c,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email"}),(0,s.jsx)("input",{onChange:i,type:"email",name:"email",placeholder:"Enter your email...",value:e.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",children:"Password"}),(0,s.jsx)("input",{onChange:i,type:"password",name:"password",placeholder:"Enter your password...",value:e.password})]}),(0,s.jsx)("button",{type:"submit",children:"Login"}),(0,s.jsxs)("span",{children:["Doesn't have an account? ",(0,s.jsx)(o(),{href:"/signup",children:"Signup"})]})]}),(0,s.jsx)(l.Ix,{})]})}},923:function(e,n,t){"use strict";t.d(n,{S3:function(){return i},fG:function(){return o},sE:function(){return r}});var s=t(5678);let r=e=>{s.Am.success(e,{position:"top-right"})},i=e=>{s.Am.error(e,{position:"top-right"})},o="https://expense-tracker-dkte.onrender.com"}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);